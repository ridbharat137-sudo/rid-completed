const questions =[
  {
    "num": 1,
    "question_en": "What does 'ecology' mean?",
    "options_en": ["Study of living things and their environment", "Study of rocks and minerals", "Study of weather patterns", "Study of ocean currents"],
    "answer_en": "Study of living things and their environment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 2,
    "question_en": "What are the three main types of ecological relationships?",
    "options_en": ["Producer, consumer, decomposer", "Plant, animal, human", "Land, water, air", "Hot, cold, warm"],
    "answer_en": "Producer, consumer, decomposer",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 3,
    "question_en": "What do plants need for photosynthesis?",
    "options_en": ["Sunlight, water, carbon dioxide", "Soil, fertilizer, pesticide", "Oxygen, nitrogen, hydrogen", "Rain, wind, clouds"],
    "answer_en": "Sunlight, water, carbon dioxide",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 4,
    "question_en": "What is a food chain?",
    "options_en": ["Sequence of who eats whom in nature", "Chain used for tying things", "Shopping list for groceries", "Line at a fast food restaurant"],
    "answer_en": "Sequence of who eats whom in nature",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 5,
    "question_en": "Which of these is a renewable resource?",
    "options_en": ["Wind energy", "Coal", "Natural gas", "Plastic"],
    "answer_en": "Wind energy",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 6,
    "question_en": "What is composting?",
    "options_en": ["Turning food scraps into soil fertilizer", "Burning trash", "Throwing garbage in ocean", "Burying plastic"],
    "answer_en": "Turning food scraps into soil fertilizer",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 7,
    "question_en": "What does 'biodegradable' mean?",
    "options_en": ["Can be broken down by nature", "Lasts forever", "Made of plastic", "Very strong"],
    "answer_en": "Can be broken down by nature",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 8,
    "question_en": "What is habitat loss?",
    "options_en": ["When animals lose their homes", "When animals find new homes", "When plants grow too much", "When water dries up"],
    "answer_en": "When animals lose their homes",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 9,
    "question_en": "What is recycling?",
    "options_en": ["Making new things from old materials", "Throwing everything away", "Burning waste", "Buying new things"],
    "answer_en": "Making new things from old materials",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 10,
    "question_en": "What is an ecosystem?",
    "options_en": ["Community of living and non-living things", "Only plants in an area", "Only animals in zoo", "Just the weather"],
    "answer_en": "Community of living and non-living things",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 11,
    "question_en": "What do herbivores eat?",
    "options_en": ["Only plants", "Only meat", "Plants and meat", "Nothing"],
    "answer_en": "Only plants",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 12,
    "question_en": "What do carnivores eat?",
    "options_en": ["Only meat", "Only plants", "Plants and meat", "Everything"],
    "answer_en": "Only meat",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 13,
    "question_en": "What do omnivores eat?",
    "options_en": ["Plants and meat", "Only plants", "Only meat", "Only insects"],
    "answer_en": "Plants and meat",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 14,
    "question_en": "What is the water cycle?",
    "options_en": ["Water moving through environment", "Water staying in one place", "Only rain falling", "Only rivers flowing"],
    "answer_en": "Water moving through environment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 15,
    "question_en": "What is pollution?",
    "options_en": ["Harmful things in environment", "Clean air and water", "Natural things only", "Good for nature"],
    "answer_en": "Harmful things in environment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 16,
    "question_en": "What is a wetland?",
    "options_en": ["Land covered with water part of year", "Dry desert", "Mountain top", "City park"],
    "answer_en": "Land covered with water part of year",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 17,
    "question_en": "What is deforestation?",
    "options_en": ["Cutting down forests", "Planting trees", "Watering plants", "Studying trees"],
    "answer_en": "Cutting down forests",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 18,
    "question_en": "What are fossil fuels?",
    "options_en": ["Coal, oil, natural gas", "Wind, sun, water", "Trees, grass, flowers", "Rocks, sand, soil"],
    "answer_en": "Coal, oil, natural gas",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 19,
    "question_en": "What is climate change?",
    "options_en": ["Earth's climate getting warmer", "Daily weather change", "Seasons changing", "Wind blowing"],
    "answer_en": "Earth's climate getting warmer",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 20,
    "question_en": "What is biodiversity?",
    "options_en": ["Variety of living things", "Only one type of plant", "Only animals", "Just trees"],
    "answer_en": "Variety of living things",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 21,
    "question_en": "What is a food web?",
    "options_en": ["Many food chains connected", "One food chain", "Restaurant menu", "Grocery list"],
    "answer_en": "Many food chains connected",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 22,
    "question_en": "What is a decomposer?",
    "options_en": ["Breaks down dead things", "Makes its own food", "Eats only plants", "Eats only meat"],
    "answer_en": "Breaks down dead things",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 23,
    "question_en": "What is a producer?",
    "options_en": ["Makes its own food", "Eats other things", "Breaks down dead things", "Does nothing"],
    "answer_en": "Makes its own food",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 24,
    "question_en": "What is a consumer?",
    "options_en": ["Eats other things", "Makes its own food", "Breaks down dead things", "Sleeps all day"],
    "answer_en": "Eats other things",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 25,
    "question_en": "What is the ozone layer?",
    "options_en": ["Protects from sun's rays", "Makes clouds", "Causes rain", "Creates wind"],
    "answer_en": "Protects from sun's rays",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 26,
    "question_en": "What is erosion?",
    "options_en": ["Soil wearing away", "Soil building up", "Plants growing", "Water cleaning"],
    "answer_en": "Soil wearing away",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 27,
    "question_en": "What is conservation?",
    "options_en": ["Protecting nature", "Using everything up", "Wasting resources", "Ignoring environment"],
    "answer_en": "Protecting nature",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 28,
    "question_en": "What is renewable energy?",
    "options_en": ["Energy that won't run out", "Energy that will run out", "Energy from fossils", "Energy from waste"],
    "answer_en": "Energy that won't run out",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 29,
    "question_en": "What is solar power?",
    "options_en": ["Energy from sun", "Energy from wind", "Energy from water", "Energy from coal"],
    "answer_en": "Energy from sun",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 30,
    "question_en": "What is wind power?",
    "options_en": ["Energy from wind", "Energy from sun", "Energy from water", "Energy from oil"],
    "answer_en": "Energy from wind",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 31,
    "question_en": "What is hydro power?",
    "options_en": ["Energy from water", "Energy from wind", "Energy from sun", "Energy from gas"],
    "answer_en": "Energy from water",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 32,
    "question_en": "What is an endangered species?",
    "options_en": ["Very few left alive", "Many everywhere", "Just discovered", "Common pet"],
    "answer_en": "Very few left alive",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 33,
    "question_en": "What is extinct?",
    "options_en": ["No more of that species", "Many of that species", "New species", "Common species"],
    "answer_en": "No more of that species",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 34,
    "question_en": "What is organic waste?",
    "options_en": ["Food scraps, leaves, grass", "Plastic bags", "Glass bottles", "Metal cans"],
    "answer_en": "Food scraps, leaves, grass",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 35,
    "question_en": "What is a landfill?",
    "options_en": ["Place where trash is buried", "Recycling center", "Compost pile", "Garden"],
    "answer_en": "Place where trash is buried",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 36,
    "question_en": "What is air pollution?",
    "options_en": ["Dirty air", "Clean air", "Fresh air", "Pure air"],
    "answer_en": "Dirty air",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 37,
    "question_en": "What is water pollution?",
    "options_en": ["Dirty water", "Clean water", "Pure water", "Mineral water"],
    "answer_en": "Dirty water",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 38,
    "question_en": "What is soil pollution?",
    "options_en": ["Dirty soil", "Clean soil", "Fertile soil", "Rich soil"],
    "answer_en": "Dirty soil",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 39,
    "question_en": "What is noise pollution?",
    "options_en": ["Too much loud noise", "Quiet peace", "Soft music", "Silence"],
    "answer_en": "Too much loud noise",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 40,
    "question_en": "What is light pollution?",
    "options_en": ["Too much artificial light", "Natural moonlight", "Sunlight", "Darkness"],
    "answer_en": "Too much artificial light",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 41,
    "question_en": "What is the 'reduce' in 3 R's?",
    "options_en": ["Use less", "Use again", "Make new", "Throw away"],
    "answer_en": "Use less",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 42,
    "question_en": "What is the 'reuse' in 3 R's?",
    "options_en": ["Use again", "Use less", "Make new", "Throw away"],
    "answer_en": "Use again",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 43,
    "question_en": "What is the 'recycle' in 3 R's?",
    "options_en": ["Make new from old", "Use less", "Use again", "Throw away"],
    "answer_en": "Make new from old",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 44,
    "question_en": "What is a watershed?",
    "options_en": ["Area that drains to water body", "Water storage tank", "Drinking glass", "Swimming pool"],
    "answer_en": "Area that drains to water body",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 45,
    "question_en": "What is an aquifer?",
    "options_en": ["Underground water storage", "Above ground lake", "River", "Ocean"],
    "answer_en": "Underground water storage",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 46,
    "question_en": "What is drought?",
    "options_en": ["Long dry period", "Heavy rain", "Normal weather", "Flood"],
    "answer_en": "Long dry period",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 47,
    "question_en": "What is a flood?",
    "options_en": ["Too much water on land", "Not enough water", "Normal water level", "Drought"],
    "answer_en": "Too much water on land",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 48,
    "question_en": "What is global warming?",
    "options_en": ["Earth getting warmer", "Earth getting cooler", "No temperature change", "Season change"],
    "answer_en": "Earth getting warmer",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 49,
    "question_en": "What are greenhouse gases?",
    "options_en": ["Gases that trap heat", "Gases that cool Earth", "Gases in balloons", "Gases we breathe"],
    "answer_en": "Gases that trap heat",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 50,
    "question_en": "What is carbon dioxide?",
    "options_en": ["Main greenhouse gas", "Type of water", "Kind of soil", "Form of rock"],
    "answer_en": "Main greenhouse gas",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 51,
    "question_en": "What is methane?",
    "options_en": ["Greenhouse gas from waste", "Type of metal", "Form of water", "Kind of tree"],
    "answer_en": "Greenhouse gas from waste",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 52,
    "question_en": "What is a carbon footprint?",
    "options_en": ["Amount of greenhouse gases we make", "Size of our foot", "Pattern in dirt", "Shoe size"],
    "answer_en": "Amount of greenhouse gases we make",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 53,
    "question_en": "What is a carbon sink?",
    "options_en": ["Something that stores carbon", "Something that makes carbon", "Something that burns carbon", "Something that throws carbon"],
    "answer_en": "Something that stores carbon",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 54,
    "question_en": "What is sustainable living?",
    "options_en": ["Living without harming future", "Living for today only", "Wasting resources", "Using everything up"],
    "answer_en": "Living without harming future",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 55,
    "question_en": "What is urban sprawl?",
    "options_en": ["Cities spreading out", "Cities shrinking", "Cities staying same", "Cities planning"],
    "answer_en": "Cities spreading out",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 56,
    "question_en": "What is public transportation?",
    "options_en": ["Buses, trains, subways", "Private cars", "Walking only", "Bicycles only"],
    "answer_en": "Buses, trains, subways",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 57,
    "question_en": "What is carpooling?",
    "options_en": ["Sharing car rides", "Driving alone", "Buying new car", "Walking instead"],
    "answer_en": "Sharing car rides",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 58,
    "question_en": "What is environmental justice?",
    "options_en": ["Fair treatment for all people", "Only rich protection", "Ignoring environment", "No rules"],
    "answer_en": "Fair treatment for all people",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 59,
    "question_en": "What is an ecological footprint?",
    "options_en": ["Our impact on Earth", "Size of our shoe", "Pattern we make", "Track in mud"],
    "answer_en": "Our impact on Earth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 60,
    "question_en": "What is a national park?",
    "options_en": ["Protected natural area", "City playground", "Shopping center", "Industrial area"],
    "answer_en": "Protected natural area",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 61,
    "question_en": "What is a wildlife sanctuary?",
    "options_en": ["Protected place for animals", "Hunting ground", "Farm field", "City zoo"],
    "answer_en": "Protected place for animals",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 62,
    "question_en": "What is organic farming?",
    "options_en": ["Farming without chemicals", "Farming with chemicals", "Indoor farming", "No farming"],
    "answer_en": "Farming without chemicals",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 63,
    "question_en": "What is pesticide?",
    "options_en": ["Chemical to kill bugs", "Chemical to help growth", "Natural fertilizer", "Water"],
    "answer_en": "Chemical to kill bugs",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 64,
    "question_en": "What is fertilizer?",
    "options_en": ["Makes soil better for plants", "Kills weeds", "Repels insects", "Dries soil"],
    "answer_en": "Makes soil better for plants",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 65,
    "question_en": "What is irrigation?",
    "options_en": ["Watering crops artificially", "Natural rain", "Dew collection", "Flood"],
    "answer_en": "Watering crops artificially",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 66,
    "question_en": "What is ocean acidification?",
    "options_en": ["Oceans becoming more acidic", "Oceans becoming sweeter", "Oceans drying up", "Oceans growing"],
    "answer_en": "Oceans becoming more acidic",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 67,
    "question_en": "What is coral bleaching?",
    "options_en": ["Coral losing color", "Coral gaining color", "Coral dying naturally", "Coral growing"],
    "answer_en": "Coral losing color",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 68,
    "question_en": "What are forests important for?",
    "options_en": ["Oxygen and carbon storage", "Making plastic", "Building cities", "Making roads"],
    "answer_en": "Oxygen and carbon storage",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 69,
    "question_en": "What is upcycling?",
    "options_en": ["Making better things from waste", "Throwing away", "Burning waste", "Burying waste"],
    "answer_en": "Making better things from waste",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 70,
    "question_en": "What is environmental education?",
    "options_en": ["Learning about environment", "Ignoring environment", "Only science facts", "Only math"],
    "answer_en": "Learning about environment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 71,
    "question_en": "What is citizen science?",
    "options_en": ["Regular people helping scientists", "Only scientists working", "Government research", "Company research"],
    "answer_en": "Regular people helping scientists",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 72,
    "question_en": "What is a native species?",
    "options_en": ["Originally from that area", "Brought from elsewhere", "Newly created", "Extinct"],
    "answer_en": "Originally from that area",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 73,
    "question_en": "What is an invasive species?",
    "options_en": ["Non-native that causes harm", "Native that helps", "Extinct species", "Common pet"],
    "answer_en": "Non-native that causes harm",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 74,
    "question_en": "What is a keystone species?",
    "options_en": ["Very important for ecosystem", "Not important", "Common everywhere", "Rare but unimportant"],
    "answer_en": "Very important for ecosystem",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 75,
    "question_en": "What is symbiosis?",
    "options_en": ["Living together closely", "Living far apart", "Ignoring each other", "Fighting always"],
    "answer_en": "Living together closely",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 76,
    "question_en": "What is mutualism?",
    "options_en": ["Both benefit", "One benefits, one harmed", "One benefits, one unaffected", "Both harmed"],
    "answer_en": "Both benefit",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 77,
    "question_en": "What is commensalism?",
    "options_en": ["One benefits, one unaffected", "Both benefit", "One benefits, one harmed", "Both unaffected"],
    "answer_en": "One benefits, one unaffected",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 78,
    "question_en": "What is parasitism?",
    "options_en": ["One benefits, one harmed", "Both benefit", "One benefits, one unaffected", "Both unaffected"],
    "answer_en": "One benefits, one harmed",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 79,
    "question_en": "What is competition?",
    "options_en": ["Fighting for resources", "Working together", "Ignoring each other", "Helping each other"],
    "answer_en": "Fighting for resources",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 80,
    "question_en": "What is carrying capacity?",
    "options_en": ["Maximum population area can support", "Minimum population", "Average population", "Current population"],
    "answer_en": "Maximum population area can support",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 81,
    "question_en": "What is biomass energy?",
    "options_en": ["Energy from plants and waste", "Energy from rocks", "Energy from metals", "Energy from plastic"],
    "answer_en": "Energy from plants and waste",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 82,
    "question_en": "What is geothermal energy?",
    "options_en": ["Heat from inside Earth", "Heat from sun", "Heat from wind", "Heat from water"],
    "answer_en": "Heat from inside Earth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 83,
    "question_en": "What is a threatened species?",
    "options_en": ["May become endangered", "Completely safe", "Already extinct", "Very common"],
    "answer_en": "May become endangered",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 84,
    "question_en": "What is conservation biology?",
    "options_en": ["Science of protecting nature", "Science of chemistry", "Science of physics", "Science of math"],
    "answer_en": "Science of protecting nature",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 85,
    "question_en": "What is walking/cycling good for?",
    "options_en": ["Exercise and no pollution", "Causing pollution", "Wasting time", "Using fuel"],
    "answer_en": "Exercise and no pollution",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 86,
    "question_en": "What is habitat fragmentation?",
    "options_en": ["Habitat broken into pieces", "Habitat made whole", "Habitat cleaned up", "Habitat destroyed completely"],
    "answer_en": "Habitat broken into pieces",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 87,
    "question_en": "What is the atmosphere?",
    "options_en": ["Layer of gases around Earth", "Layer of water", "Layer of soil", "Layer of rock"],
    "answer_en": "Layer of gases around Earth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 88,
    "question_en": "What is the biosphere?",
    "options_en": ["Part of Earth with life", "Part with only water", "Part with only air", "Part with only rock"],
    "answer_en": "Part of Earth with life",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 89,
    "question_en": "What is a natural resource?",
    "options_en": ["Useful thing from nature", "Man-made thing", "Artificial thing", "Synthetic thing"],
    "answer_en": "Useful thing from nature",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 90,
    "question_en": "What is energy conservation?",
    "options_en": ["Using less energy", "Making more energy", "Storing energy", "Wasting energy"],
    "answer_en": "Using less energy",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 91,
    "question_en": "What is the main message of ecology?",
    "options_en": ["Everything is connected", "Nothing is connected", "Only some things matter", "Nature doesn't matter"],
    "answer_en": "Everything is connected",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 92,
    "question_en": "What is the role of worms in soil?",
    "options_en": ["Aerate and enrich soil", "Eat all plants", "Destroy soil", "Do nothing"],
    "answer_en": "Aerate and enrich soil",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 93,
    "question_en": "What are bees important for?",
    "options_en": ["Pollinating plants", "Making honey only", "Stinging people", "Building nests"],
    "answer_en": "Pollinating plants",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 94,
    "question_en": "What is the nitrogen cycle?",
    "options_en": ["Nitrogen moving through environment", "Nitrogen staying put", "Only in air", "Only in soil"],
    "answer_en": "Nitrogen moving through environment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 95,
    "question_en": "What is the carbon cycle?",
    "options_en": ["Carbon moving through environment", "Carbon staying still", "Only in air", "Only in plants"],
    "answer_en": "Carbon moving through environment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 96,
    "question_en": "What is environmental stewardship?",
    "options_en": ["Taking care of Earth", "Ignoring Earth", "Using up resources", "Wasting everything"],
    "answer_en": "Taking care of Earth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 97,
    "question_en": "What is ecological succession?",
    "options_en": ["Natural changes in ecosystem", "No changes ever", "Sudden destruction", "Human-made changes"],
    "answer_en": "Natural changes in ecosystem",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 98,
    "question_en": "What is a microhabitat?",
    "options_en": ["Small specialized habitat", "Large general habitat", "No habitat", "Artificial habitat"],
    "answer_en": "Small specialized habitat",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 99,
    "question_en": "What is environmental impact assessment?",
    "options_en": ["Studying effects of projects", "Ignoring effects", "Guessing effects", "Not caring about effects"],
    "answer_en": "Studying effects of projects",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 100,
    "question_en": "What can children do to help environment?",
    "options_en": ["Reduce, reuse, recycle", "Use more plastic", "Waste water", "Throw trash anywhere"],
    "answer_en": "Reduce, reuse, recycle",
    "attempted": false,
    "selected": ""
  }
];
// --------------------------- GLOBAL VARS -----------------------------
let currentQuestion = 0;
let language = "en";
let timeLeft = 60 * 60; 
let timerInterval;

// ----------------- Load Question -----------------
function loadQuestion(index) {
    const q = questions[index];
    if (!q) return; //  undefined error fix

    document.getElementById("question").textContent =
        `${q.num}. ${language === "en" ? q.question_en : q.question_hi}`;

    document.getElementById("questionCounter").textContent =
        `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    const options = language === "en" ? q.options_en : q.options_hi;

    options.forEach(option => {
        const isSelected = q.selected === option;

        const div = document.createElement("div");
        div.className = "option-box";

        div.style = `
            border: 2px solid ${isSelected ? "#007bff" : "#ccc"};
            background-color: ${isSelected ? "#e7f1ff" : "white"};
            padding: 10px;
            border-radius: 8px;
            margin: 6px 0;
            cursor: pointer;
        `;

        div.innerHTML = `
            <input type="radio" name="option" value="${option}" 
            ${isSelected ? "checked" : ""} style="margin-right:8px;">
            ${option}
        `;

        div.addEventListener("click", () => {
            markAttempted(index, option);
            loadQuestion(index);
        });

        optionsElement.appendChild(div);
    });

    updateNavigation();
}

// ----------------- Attempt Mark -----------------
function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
}

// ----------------- Next / Previous -----------------
function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

// ----------------- Final Submit -----------------
function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0;
    let notAttempted = 0;
    let score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;

            if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }

        results.push({
            question: language === "en" ? q.question_en : q.question_hi,
            selected: q.selected || "Not Answered",
            correct: language === "en" ? q.answer_en : q.answer_hi
        });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted! Do you want to view result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

// ----------------- Navigation Circles -----------------
function updateNavigation() {
    const nav = document.getElementById("circleContainer");
    nav.innerHTML = "";

    questions.forEach((q, i) => {
        let color = "gray";
        if (i === currentQuestion) color = "blue";
        else if (q.attempted) color = "green";

        nav.innerHTML += `
            <div class="circle" style="background:${color};"
            onclick="jumpToQuestion(${i})">${i + 1}</div>
        `;
    });
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

// ----------------- Timer -----------------
function startTimer() {
    const timerElement = document.getElementById("timer");

    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up!");
            submitQuiz();
        } else {
            const hours = String(Math.floor(timeLeft / 3600)).padStart(2, "0");
            const minutes = String(Math.floor((timeLeft % 3600) / 60)).padStart(2, "0");
            const seconds = String(timeLeft % 60).padStart(2, "0");

            timerElement.textContent = `Time Left: ${hours}:${minutes}:${seconds}`;
            timeLeft--;
        }
    }, 1000);
}

// ----------------- Camera & Movement Detection -----------------
let videoStream;
let movementCount = 0;

function startCamera() {
    const container = document.createElement("div");
    container.id = "camera-container";
    container.style = `
        position:fixed; top:10px; left:10px; width:130px; height:130px;
        border-radius:50%; overflow:hidden; border:3px solid red; z-index:9999;
    `;

    document.body.appendChild(container);

    const video = document.createElement("video");
    video.autoplay = true;
    video.playsinline = true;
    video.style = "width:100%; height:100%; object-fit:cover;";
    container.appendChild(video);

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            video.srcObject = stream;
            videoStream = stream;
            detectMovement(video);
        })
        .catch(() => alert("Camera access denied!"));
}

function detectMovement(video) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = 160;
    canvas.height = 160;

    let lastData = null;

    setInterval(() => {
        ctx.drawImage(video, 0, 0, 160, 160);
        const data = ctx.getImageData(0, 0, 160, 160);

        if (lastData) {
            let diff = 0;
            for (let i = 0; i < data.data.length; i += 4) {
                diff += Math.abs(data.data[i] - lastData.data[i]);
            }

            if (diff > 1000000) {
                movementCount++;

                if (movementCount === 1) alert("⚠ Alert 1: No movement detected!");
                if (movementCount === 2) alert("⚠ Alert 2: Head not moving!");
                if (movementCount === 3) {
                    alert("⚠ Alert 3: Restarting test...");
                    restartTest();
                }
            }
        }
        lastData = data;

    }, 2000);
}

function restartTest() {
    if (videoStream) videoStream.getTracks().forEach(t => t.stop());

    const cam = document.getElementById("camera-container");
    if (cam) cam.remove();

    movementCount = 0;
    currentQuestion = 0;
    timeLeft = 60 * 60;

    questions.forEach(q => {
        q.attempted = false;
        q.selected = null;
    });

    loadQuestion(0);
    startTimer();
    startCamera();
}

// ----------------- Page Load -----------------
window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
    startCamera();
};