const questions=[
  {
    "num": 1,
    "question_en": "Who wrote the essay 'What is Wrong with Indian Film'?",
    "options_en": ["Satyajit Ray", "Ritwik Ghatak", "Mrinal Sen", "Guru Dutt"],
    "answer_en": "Satyajit Ray",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 2,
    "question_en": "What is the main focus of Ray's essay?",
    "options_en": ["Critique of Indian cinema", "Praise of Bollywood", "History of Indian film", "Technical film making"],
    "answer_en": "Critique of Indian cinema",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 3,
    "question_en": "What does Ray criticize about Indian film songs?",
    "options_en": ["They interrupt narrative flow", "They are poorly composed", "They are in wrong languages", "They are too short"],
    "answer_en": "They interrupt narrative flow",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 4,
    "question_en": "According to Ray, what do Indian films lack?",
    "options_en": ["Realism and authenticity", "Color and music", "Famous actors", "Big budgets"],
    "answer_en": "Realism and authenticity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 5,
    "question_en": "What does Ray say about Indian film acting?",
    "options_en": ["Over-dramatic and unnatural", "Too subtle", "Perfectly balanced", "Better than Hollywood"],
    "answer_en": "Over-dramatic and unnatural",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 6,
    "question_en": "Which film movement did Ray admire?",
    "options_en": ["Italian Neorealism", "French New Wave", "German Expressionism", "Hollywood musicals"],
    "answer_en": "Italian Neorealism",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 7,
    "question_en": "What does Ray criticize about film sets?",
    "options_en": ["They look artificial", "They are too small", "They are too colorful", "They are poorly lit"],
    "answer_en": "They look artificial",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 8,
    "question_en": "According to Ray, what should films reflect?",
    "options_en": ["Real Indian life", "Fantasy worlds", "Historical events only", "Foreign cultures"],
    "answer_en": "Real Indian life",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 9,
    "question_en": "What does Ray say about dance sequences?",
    "options_en": ["They are often irrelevant", "They are beautifully choreographed", "They are too short", "They need more dancers"],
    "answer_en": "They are often irrelevant",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 10,
    "question_en": "Which filmmaker influenced Ray's thinking?",
    "options_en": ["Jean Renoir", "Alfred Hitchcock", "Stanley Kubrick", "Akira Kurosawa"],
    "answer_en": "Jean Renoir",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 11,
    "question_en": "What does Ray criticize about dialogue delivery?",
    "options_en": ["Theatrical and exaggerated", "Too soft", "In foreign languages", "Too modern"],
    "answer_en": "Theatrical and exaggerated",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 12,
    "question_en": "What does Ray suggest about film music?",
    "options_en": ["It should serve the story", "It should be loud", "It should be Western", "It should be eliminated"],
    "answer_en": "It should serve the story",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 13,
    "question_en": "What does Ray say about commercial pressures?",
    "options_en": ["They compromise artistic integrity", "They help films succeed", "They are necessary", "They don't exist"],
    "answer_en": "They compromise artistic integrity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 14,
    "question_en": "What aspect of filmmaking does Ray emphasize?",
    "options_en": ["Visual storytelling", "Star power", "Big budgets", "Length of film"],
    "answer_en": "Visual storytelling",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 15,
    "question_en": "What does Ray criticize about character development?",
    "options_en": ["Characters are stereotypical", "Characters are too complex", "Characters change too much", "No characters at all"],
    "answer_en": "Characters are stereotypical",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 16,
    "question_en": "What does Ray say about imitation of Hollywood?",
    "options_en": ["It creates inauthentic films", "It improves Indian cinema", "It's necessary for success", "It doesn't happen"],
    "answer_en": "It creates inauthentic films",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 17,
    "question_en": "What does Ray emphasize about locations?",
    "options_en": ["Use real locations", "Build elaborate sets", "Use only studios", "Shoot abroad"],
    "answer_en": "Use real locations",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 18,
    "question_en": "What does Ray criticize about plot structure?",
    "options_en": ["Formulaic and predictable", "Too experimental", "No plots at all", "Too short"],
    "answer_en": "Formulaic and predictable",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 19,
    "question_en": "What does Ray say about film length?",
    "options_en": ["Films are unnecessarily long", "Films are too short", "Length is perfect", "Length doesn't matter"],
    "answer_en": "Films are unnecessarily long",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 20,
    "question_en": "What does Ray advocate for in film education?",
    "options_en": ["Proper film schools", "No education needed", "Only practical training", "Foreign education only"],
    "answer_en": "Proper film schools",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 21,
    "question_en": "What does Ray criticize about film editing?",
    "options_en": ["Poor pacing and rhythm", "Too fast editing", "No editing at all", "Too many cuts"],
    "answer_en": "Poor pacing and rhythm",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 22,
    "question_en": "What does Ray say about audience expectations?",
    "options_en": ["They limit creativity", "They guide filmmakers", "They are always right", "They don't matter"],
    "answer_en": "They limit creativity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 23,
    "question_en": "What does Ray emphasize about cinematography?",
    "options_en": ["It should be expressive", "It should be simple", "It should be colorful", "It should be dark"],
    "answer_en": "It should be expressive",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 24,
    "question_en": "What does Ray criticize about melodrama?",
    "options_en": ["It replaces genuine emotion", "It is necessary", "It is artistic", "There's not enough"],
    "answer_en": "It replaces genuine emotion",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 25,
    "question_en": "What does Ray say about social themes?",
    "options_en": ["They should be addressed realistically", "They should be avoided", "They should be exaggerated", "They don't matter"],
    "answer_en": "They should be addressed realistically",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 26,
    "question_en": "What does Ray criticize about star system?",
    "options_en": ["It prioritizes stars over content", "It helps films succeed", "It's necessary", "There's no star system"],
    "answer_en": "It prioritizes stars over content",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 27,
    "question_en": "What does Ray say about film music directors?",
    "options_en": ["They dominate over directors", "They are unimportant", "They should be eliminated", "They are perfect"],
    "answer_en": "They dominate over directors",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 28,
    "question_en": "What does Ray emphasize about sound design?",
    "options_en": ["It should be naturalistic", "It should be loud", "It should have music only", "It doesn't matter"],
    "answer_en": "It should be naturalistic",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 29,
    "question_en": "What does Ray criticize about film endings?",
    "options_en": ["They are often unrealistic", "They are too sad", "They are too happy", "There are no endings"],
    "answer_en": "They are often unrealistic",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 30,
    "question_en": "What does Ray say about film producers?",
    "options_en": ["They interfere too much", "They are supportive", "They don't exist", "They are perfect"],
    "answer_en": "They interfere too much",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 31,
    "question_en": "What does Ray emphasize about regional cinema?",
    "options_en": ["It has more authenticity", "It is worse", "It doesn't exist", "It should be eliminated"],
    "answer_en": "It has more authenticity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 32,
    "question_en": "What does Ray criticize about film distribution?",
    "options_en": ["It favors commercial films", "It is perfect", "It doesn't exist", "It helps all films"],
    "answer_en": "It favors commercial films",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 33,
    "question_en": "What does Ray say about film technicians?",
    "options_en": ["They need better training", "They are perfect", "They are overqualified", "They don't exist"],
    "answer_en": "They need better training",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 34,
    "question_en": "What does Ray emphasize about film as art?",
    "options_en": ["It should be treated as art", "It is only entertainment", "It is business only", "It is not important"],
    "answer_en": "It should be treated as art",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 35,
    "question_en": "What does Ray criticize about film censorship?",
    "options_en": ["It restricts creativity", "It is necessary", "It doesn't exist", "It helps films"],
    "answer_en": "It restricts creativity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 36,
    "question_en": "What does Ray say about film festivals?",
    "options_en": ["They are important for growth", "They are useless", "They don't exist", "They hurt films"],
    "answer_en": "They are important for growth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 37,
    "question_en": "What does Ray emphasize about film criticism?",
    "options_en": ["It should be constructive", "It should be harsh", "It is unnecessary", "It should praise always"],
    "answer_en": "It should be constructive",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 38,
    "question_en": "What does Ray criticize about film budgets?",
    "options_en": ["Money wasted on stars", "Budgets are too small", "No budgets exist", "Budgets are perfect"],
    "answer_en": "Money wasted on stars",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 39,
    "question_en": "What does Ray say about film genres?",
    "options_en": ["They limit creativity", "They are helpful", "They don't exist", "There are too few"],
    "answer_en": "They limit creativity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 40,
    "question_en": "What does Ray emphasize about film as medium?",
    "options_en": ["It's powerful for social change", "It's only entertainment", "It's outdated", "It's too expensive"],
    "answer_en": "It's powerful for social change",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 41,
    "question_en": "What does Ray criticize about film marketing?",
    "options_en": ["It emphasizes wrong elements", "It doesn't exist", "It is perfect", "It should be eliminated"],
    "answer_en": "It emphasizes wrong elements",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 42,
    "question_en": "What does Ray say about independent cinema?",
    "options_en": ["It should be encouraged", "It is useless", "It doesn't exist", "It hurts industry"],
    "answer_en": "It should be encouraged",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 43,
    "question_en": "What does Ray emphasize about film continuity?",
    "options_en": ["It is often poor", "It is perfect", "It doesn't matter", "It is too strict"],
    "answer_en": "It is often poor",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 44,
    "question_en": "What does Ray criticize about film awards?",
    "options_en": ["They reward wrong things", "They are perfect", "They don't exist", "They should be eliminated"],
    "answer_en": "They reward wrong things",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 45,
    "question_en": "What does Ray say about film adaptations?",
    "options_en": ["They should be faithful yet creative", "They should copy exactly", "They shouldn't exist", "They are always bad"],
    "answer_en": "They should be faithful yet creative",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 46,
    "question_en": "What does Ray emphasize about film tempo?",
    "options_en": ["It should match content", "It should be fast always", "It should be slow always", "It doesn't matter"],
    "answer_en": "It should match content",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 47,
    "question_en": "What does Ray criticize about film exhibition?",
    "options_en": ["Poor theater conditions", "Perfect conditions", "No theaters exist", "Too many theaters"],
    "answer_en": "Poor theater conditions",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 48,
    "question_en": "What does Ray say about film heritage?",
    "options_en": ["It should be preserved", "It doesn't exist", "It is preserved perfectly", "It is unimportant"],
    "answer_en": "It should be preserved",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 49,
    "question_en": "What does Ray emphasize about film research?",
    "options_en": ["It is lacking", "It is excessive", "It doesn't exist", "It is perfect"],
    "answer_en": "It is lacking",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 50,
    "question_en": "What does Ray criticize about film journalism?",
    "options_en": ["It focuses on gossip", "It is too serious", "It doesn't exist", "It is perfect"],
    "answer_en": "It focuses on gossip",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 51,
    "question_en": "What does Ray say about film and literature?",
    "options_en": ["Films can learn from literature", "Films are superior", "No relation exists", "Literature hurts films"],
    "answer_en": "Films can learn from literature",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 52,
    "question_en": "What does Ray emphasize about film composition?",
    "options_en": ["It should be carefully planned", "It happens by chance", "It doesn't matter", "It is always perfect"],
    "answer_en": "It should be carefully planned",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 53,
    "question_en": "What does Ray criticize about film publicity?",
    "options_en": ["It creates false expectations", "It is necessary", "It doesn't exist", "It is too little"],
    "answer_en": "It creates false expectations",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 54,
    "question_en": "What does Ray say about film and theater?",
    "options_en": ["Film is different medium", "They are same", "Theater is better", "Film should copy theater"],
    "answer_en": "Film is different medium",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 55,
    "question_en": "What does Ray emphasize about film lighting?",
    "options_en": ["It should be natural", "It should be dramatic", "It doesn't matter", "It should be dark"],
    "answer_en": "It should be natural",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 56,
    "question_en": "What does Ray criticize about film remakes?",
    "options_en": ["They lack originality", "They improve originals", "They don't exist", "They are necessary"],
    "answer_en": "They lack originality",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 57,
    "question_en": "What does Ray say about film and reality?",
    "options_en": ["Film should reflect reality", "Film should escape reality", "No relation", "Film creates reality"],
    "answer_en": "Film should reflect reality",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 58,
    "question_en": "What does Ray emphasize about film rhythm?",
    "options_en": ["It is essential", "It is unimportant", "It happens automatically", "It should be avoided"],
    "answer_en": "It is essential",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 59,
    "question_en": "What does Ray criticize about film imitations?",
    "options_en": ["They show lack of vision", "They are good practice", "They don't exist", "They are necessary"],
    "answer_en": "They show lack of vision",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 60,
    "question_en": "What does Ray say about film and painting?",
    "options_en": ["Film can learn from painting", "No relation", "Painting is superior", "Film hurts painting"],
    "answer_en": "Film can learn from painting",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 61,
    "question_en": "What does Ray emphasize about film structure?",
    "options_en": ["It should be organic", "It should be rigid", "It doesn't matter", "It should be complex"],
    "answer_en": "It should be organic",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 62,
    "question_en": "What does Ray criticize about film franchises?",
    "options_en": ["They prioritize profit over art", "They are creative", "They don't exist", "They help cinema"],
    "answer_en": "They prioritize profit over art",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 63,
    "question_en": "What does Ray say about film and music?",
    "options_en": ["Music should support film", "Film should support music", "No relation", "They conflict always"],
    "answer_en": "Music should support film",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 64,
    "question_en": "What does Ray emphasize about film perspective?",
    "options_en": ["It should be consistent", "It should change often", "It doesn't matter", "It should be confusing"],
    "answer_en": "It should be consistent",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 65,
    "question_en": "What does Ray criticize about film sequels?",
    "options_en": ["They are cash grabs", "They improve stories", "They don't exist", "They are necessary"],
    "answer_en": "They are cash grabs",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 66,
    "question_en": "What does Ray say about film and photography?",
    "options_en": ["Film is moving photography", "No relation", "Photography is better", "Film hurts photography"],
    "answer_en": "Film is moving photography",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 67,
    "question_en": "What does Ray emphasize about film tone?",
    "options_en": ["It should be consistent", "It should change often", "It doesn't matter", "It should be serious always"],
    "answer_en": "It should be consistent",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 68,
    "question_en": "What does Ray criticize about film merchandise?",
    "options_en": ["It commercializes art", "It supports films", "It doesn't exist", "It is necessary"],
    "answer_en": "It commercializes art",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 69,
    "question_en": "What does Ray say about film and sculpture?",
    "options_en": ["Both deal with form", "No relation", "Sculpture is better", "Film copies sculpture"],
    "answer_en": "Both deal with form",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 70,
    "question_en": "What does Ray emphasize about film mood?",
    "options_en": ["It should be carefully created", "It happens by chance", "It doesn't matter", "It should be happy always"],
    "answer_en": "It should be carefully created",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 71,
    "question_en": "What does Ray criticize about film promotions?",
    "options_en": ["They misrepresent films", "They are accurate", "They don't exist", "They are too little"],
    "answer_en": "They misrepresent films",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 72,
    "question_en": "What does Ray say about film and architecture?",
    "options_en": ["Both use space creatively", "No relation", "Architecture is better", "Film copies architecture"],
    "answer_en": "Both use space creatively",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 73,
    "question_en": "What does Ray emphasize about film atmosphere?",
    "options_en": ["It should be authentic", "It should be fantastical", "It doesn't matter", "It should be dark always"],
    "answer_en": "It should be authentic",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 74,
    "question_en": "What does Ray criticize about film sponsors?",
    "options_en": ["They influence content", "They help films", "They don't exist", "They are necessary"],
    "answer_en": "They influence content",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 75,
    "question_en": "What does Ray say about film and dance?",
    "options_en": ["Dance should serve story", "Story should serve dance", "No relation", "They conflict always"],
    "answer_en": "Dance should serve story",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 76,
    "question_en": "What does Ray emphasize about film texture?",
    "options_en": ["It adds depth", "It is unimportant", "It happens automatically", "It should be avoided"],
    "answer_en": "It adds depth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 77,
    "question_en": "What does Ray criticize about film ratings?",
    "options_en": ["They are arbitrary", "They are accurate", "They don't exist", "They help audiences"],
    "answer_en": "They are arbitrary",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 78,
    "question_en": "What does Ray say about film and poetry?",
    "options_en": ["Film can be poetic", "Film should avoid poetry", "No relation", "Poetry hurts film"],
    "answer_en": "Film can be poetic",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 79,
    "question_en": "What does Ray emphasize about film harmony?",
    "options_en": ["All elements should work together", "Elements should clash", "It doesn't matter", "It happens naturally"],
    "answer_en": "All elements should work together",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 80,
    "question_en": "What does Ray criticize about film committees?",
    "options_en": ["They stifle creativity", "They help creativity", "They don't exist", "They are necessary"],
    "answer_en": "They stifle creativity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 81,
    "question_en": "What does Ray say about film and prose?",
    "options_en": ["Film has its own language", "Film should copy prose", "No relation", "Prose is better"],
    "answer_en": "Film has its own language",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 82,
    "question_en": "What does Ray emphasize about film unity?",
    "options_en": ["It is essential for good film", "It is unimportant", "It happens automatically", "It should be avoided"],
    "answer_en": "It is essential for good film",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 83,
    "question_en": "What does Ray criticize about film associations?",
    "options_en": ["They protect mediocrity", "They promote quality", "They don't exist", "They are necessary"],
    "answer_en": "They protect mediocrity",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 84,
    "question_en": "What does Ray say about film and reality TV?",
    "options_en": ["Film is different art form", "They are same", "Reality TV is better", "Film should copy TV"],
    "answer_en": "Film is different art form",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 85,
    "question_en": "What does Ray emphasize about film coherence?",
    "options_en": ["It makes film understandable", "It is unimportant", "It confuses audiences", "It should be avoided"],
    "answer_en": "It makes film understandable",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 86,
    "question_en": "What does Ray criticize about film unions?",
    "options_en": ["They resist change", "They promote progress", "They don't exist", "They are perfect"],
    "answer_en": "They resist change",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 87,
    "question_en": "What does Ray say about film and documentaries?",
    "options_en": ["Documentaries teach realism", "No relation", "Documentaries are boring", "Film should avoid docs"],
    "answer_en": "Documentaries teach realism",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 88,
    "question_en": "What does Ray emphasize about film clarity?",
    "options_en": ["It helps communication", "It is unimportant", "It makes film boring", "It should be avoided"],
    "answer_en": "It helps communication",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 89,
    "question_en": "What does Ray criticize about film traditions?",
    "options_en": ["They become rigid formulas", "They provide guidance", "They don't exist", "They should be followed always"],
    "answer_en": "They become rigid formulas",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 90,
    "question_en": "What does Ray say about film and animation?",
    "options_en": ["Animation requires same principles", "No relation", "Animation is easier", "Film should avoid animation"],
    "answer_en": "Animation requires same principles",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 91,
    "question_en": "What does Ray emphasize about film precision?",
    "options_en": ["It shows professionalism", "It is unimportant", "It limits creativity", "It should be avoided"],
    "answer_en": "It shows professionalism",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 92,
    "question_en": "What does Ray criticize about film conventions?",
    "options_en": ["They limit innovation", "They help audiences", "They don't exist", "They should be followed always"],
    "answer_en": "They limit innovation",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 93,
    "question_en": "What does Ray say about film and short films?",
    "options_en": ["Short films teach economy", "No relation", "Short films are useless", "Only features matter"],
    "answer_en": "Short films teach economy",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 94,
    "question_en": "What does Ray emphasize about film discipline?",
    "options_en": ["It is essential for art", "It limits creativity", "It is unnecessary", "It should be avoided"],
    "answer_en": "It is essential for art",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 95,
    "question_en": "What does Ray criticize about film formulas?",
    "options_en": ["They produce similar films", "They ensure success", "They don't exist", "They are necessary"],
    "answer_en": "They produce similar films",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 96,
    "question_en": "What does Ray say about film and experimental cinema?",
    "options_en": ["It pushes boundaries", "It is useless", "No relation", "It hurts cinema"],
    "answer_en": "It pushes boundaries",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 97,
    "question_en": "What does Ray emphasize about film craftsmanship?",
    "options_en": ["It is foundation of art", "It is unimportant", "It limits expression", "It should be avoided"],
    "answer_en": "It is foundation of art",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 98,
    "question_en": "What does Ray criticize about film trends?",
    "options_en": ["They encourage copying", "They show progress", "They don't exist", "They should be followed"],
    "answer_en": "They encourage copying",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 99,
    "question_en": "What does Ray say about film and avant-garde?",
    "options_en": ["It explores new possibilities", "It is confusing", "No relation", "It destroys cinema"],
    "answer_en": "It explores new possibilities",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 100,
    "question_en": "What is Ray's overall message in the essay?",
    "options_en": ["Indian cinema needs artistic reform", "Indian cinema is perfect", "Indian cinema should copy West", "Indian cinema should stop"],
    "answer_en": "Indian cinema needs artistic reform",
    "attempted": false,
    "selected": ""
  }
];
// --------------------------- GLOBAL VARS -----------------------------
let currentQuestion = 0;
let language = "en";
let timeLeft = 60 * 60; 
let timerInterval;

// ----------------- Load Question -----------------
function loadQuestion(index) {
    const q = questions[index];
    if (!q) return; //  undefined error fix

    document.getElementById("question").textContent =
        `${q.num}. ${language === "en" ? q.question_en : q.question_hi}`;

    document.getElementById("questionCounter").textContent =
        `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    const options = language === "en" ? q.options_en : q.options_hi;

    options.forEach(option => {
        const isSelected = q.selected === option;

        const div = document.createElement("div");
        div.className = "option-box";

        div.style = `
            border: 2px solid ${isSelected ? "#007bff" : "#ccc"};
            background-color: ${isSelected ? "#e7f1ff" : "white"};
            padding: 10px;
            border-radius: 8px;
            margin: 6px 0;
            cursor: pointer;
        `;

        div.innerHTML = `
            <input type="radio" name="option" value="${option}" 
            ${isSelected ? "checked" : ""} style="margin-right:8px;">
            ${option}
        `;

        div.addEventListener("click", () => {
            markAttempted(index, option);
            loadQuestion(index);
        });

        optionsElement.appendChild(div);
    });

    updateNavigation();
}

// ----------------- Attempt Mark -----------------
function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
}

// ----------------- Next / Previous -----------------
function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

// ----------------- Final Submit -----------------
function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0;
    let notAttempted = 0;
    let score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;

            if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }

        results.push({
            question: language === "en" ? q.question_en : q.question_hi,
            selected: q.selected || "Not Answered",
            correct: language === "en" ? q.answer_en : q.answer_hi
        });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted! Do you want to view result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

// ----------------- Navigation Circles -----------------
function updateNavigation() {
    const nav = document.getElementById("circleContainer");
    nav.innerHTML = "";

    questions.forEach((q, i) => {
        let color = "gray";
        if (i === currentQuestion) color = "blue";
        else if (q.attempted) color = "green";

        nav.innerHTML += `
            <div class="circle" style="background:${color};"
            onclick="jumpToQuestion(${i})">${i + 1}</div>
        `;
    });
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

// ----------------- Timer -----------------
function startTimer() {
    const timerElement = document.getElementById("timer");

    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up!");
            submitQuiz();
        } else {
            const hours = String(Math.floor(timeLeft / 3600)).padStart(2, "0");
            const minutes = String(Math.floor((timeLeft % 3600) / 60)).padStart(2, "0");
            const seconds = String(timeLeft % 60).padStart(2, "0");

            timerElement.textContent = `Time Left: ${hours}:${minutes}:${seconds}`;
            timeLeft--;
        }
    }, 1000);
}

// ----------------- Camera & Movement Detection -----------------
let videoStream;
let movementCount = 0;

function startCamera() {
    const container = document.createElement("div");
    container.id = "camera-container";
    container.style = `
        position:fixed; top:10px; left:10px; width:130px; height:130px;
        border-radius:50%; overflow:hidden; border:3px solid red; z-index:9999;
    `;

    document.body.appendChild(container);

    const video = document.createElement("video");
    video.autoplay = true;
    video.playsinline = true;
    video.style = "width:100%; height:100%; object-fit:cover;";
    container.appendChild(video);

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            video.srcObject = stream;
            videoStream = stream;
            detectMovement(video);
        })
        .catch(() => alert("Camera access denied!"));
}

function detectMovement(video) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = 160;
    canvas.height = 160;

    let lastData = null;

    setInterval(() => {
        ctx.drawImage(video, 0, 0, 160, 160);
        const data = ctx.getImageData(0, 0, 160, 160);

        if (lastData) {
            let diff = 0;
            for (let i = 0; i < data.data.length; i += 4) {
                diff += Math.abs(data.data[i] - lastData.data[i]);
            }

            if (diff > 1000000) {
                movementCount++;

                if (movementCount === 1) alert("⚠ Alert 1: No movement detected!");
                if (movementCount === 2) alert("⚠ Alert 2: Head not moving!");
                if (movementCount === 3) {
                    alert("⚠ Alert 3: Restarting test...");
                    restartTest();
                }
            }
        }
        lastData = data;

    }, 2000);
}

function restartTest() {
    if (videoStream) videoStream.getTracks().forEach(t => t.stop());

    const cam = document.getElementById("camera-container");
    if (cam) cam.remove();

    movementCount = 0;
    currentQuestion = 0;
    timeLeft = 60 * 60;

    questions.forEach(q => {
        q.attempted = false;
        q.selected = null;
    });

    loadQuestion(0);
    startTimer();
    startCamera();
}

// ----------------- Page Load -----------------
window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
    startCamera();
};