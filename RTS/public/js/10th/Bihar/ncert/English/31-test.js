const questions = [
  {
    "num": 1,
    "question_en": "Who is the poet of 'The Empty Heart'?",
    "options_en": ["Subramania Bharati", "Periasamy Thooran", "Rabindranath Tagore", "Kamala Das"],
    "answer_en": "Periasamy Thooran",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 2,
    "question_en": "What is the central theme of 'The Empty Heart'?",
    "options_en": ["Joy of fulfillment", "Pain of emptiness", "Anger at betrayal", "Celebration of life"],
    "answer_en": "Pain of emptiness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 3,
    "question_en": "What does the 'empty heart' symbolize?",
    "options_en": ["Freedom from attachments", "Spiritual enlightenment", "Emotional void", "Physical illness"],
    "answer_en": "Emotional void",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 4,
    "question_en": "What original language did Thooran write in?",
    "options_en": ["Tamil", "Malayalam", "Hindi", "Sanskrit"],
    "answer_en": "Tamil",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 5,
    "question_en": "What is compared to an empty vessel?",
    "options_en": ["The mind", "The heart", "The soul", "The body"],
    "answer_en": "The heart",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 6,
    "question_en": "What does the heart lack?",
    "options_en": ["Blood", "Love and emotions", "Physical space", "Medical issues"],
    "answer_en": "Love and emotions",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 7,
    "question_en": "What time period is Thooran associated with?",
    "options_en": ["19th century", "Early 20th century", "Late 20th century", "21st century"],
    "answer_en": "Late 20th century",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 8,
    "question_en": "What literary movement is Thooran part of?",
    "options_en": ["Modern Tamil poetry", "Ancient Sangam", "British Romantic", "Harlem Renaissance"],
    "answer_en": "Modern Tamil poetry",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 9,
    "question_en": "What does emptiness feel like according to the poem?",
    "options_en": ["Liberating", "Painful and hollow", "Comforting", "Exciting"],
    "answer_en": "Painful and hollow",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 10,
    "question_en": "What could fill the empty heart?",
    "options_en": ["Money and wealth", "Love and meaning", "Food and drink", "Sleep and rest"],
    "answer_en": "Love and meaning",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 11,
    "question_en": "What is the tone of the poem?",
    "options_en": ["Joyful and celebratory", "Melancholic and introspective", "Angry and resentful", "Humorous and light"],
    "answer_en": "Melancholic and introspective",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 12,
    "question_en": "What does the empty heart echo with?",
    "options_en": ["Music", "Silence", "Memories", "Promises"],
    "answer_en": "Silence",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 13,
    "question_en": "What physical sensation describes emptiness?",
    "options_en": ["Warmth", "Coldness", "Heaviness", "Lightness"],
    "answer_en": "Coldness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 14,
    "question_en": "What is the heart waiting for?",
    "options_en": ["Death", "Fulfillment", "Nothing", "Sleep"],
    "answer_en": "Fulfillment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 15,
    "question_en": "What does emptiness sound like?",
    "options_en": ["Loud music", "Complete silence", "Echoing cries", "Whispering winds"],
    "answer_en": "Complete silence",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 16,
    "question_en": "What season metaphor is used?",
    "options_en": ["Spring", "Summer", "Autumn", "Winter"],
    "answer_en": "Winter",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 17,
    "question_en": "What color represents emptiness?",
    "options_en": ["Bright red", "Void black", "Pure white", "Grey"],
    "answer_en": "Void black",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 18,
    "question_en": "What does the heart resemble?",
    "options_en": ["A full cup", "An empty vessel", "A burning fire", "A flowing river"],
    "answer_en": "An empty vessel",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 19,
    "question_en": "What time of day is associated with emptiness?",
    "options_en": ["Morning", "Noon", "Evening", "Midnight"],
    "answer_en": "Midnight",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 20,
    "question_en": "What natural element represents the heart?",
    "options_en": ["Fire", "Water", "Earth", "Air"],
    "answer_en": "Air",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 21,
    "question_en": "What does the empty heart fear?",
    "options_en": ["Being filled", "Staying empty forever", "Breaking", "Being stolen"],
    "answer_en": "Staying empty forever",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 22,
    "question_en": "What musical instrument metaphor is used?",
    "options_en": ["Silent veena", "Broken drum", "Untuned guitar", "Muted flute"],
    "answer_en": "Silent veena",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 23,
    "question_en": "What does the heart's emptiness create?",
    "options_en": ["Creative energy", "Spiritual growth", "Emotional vacuum", "Physical strength"],
    "answer_en": "Emotional vacuum",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 24,
    "question_en": "What architectural metaphor describes emptiness?",
    "options_en": ["Full palace", "Empty mansion", "Small hut", "Broken temple"],
    "answer_en": "Empty mansion",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 25,
    "question_en": "What does the heart miss?",
    "options_en": ["Blood circulation", "Emotional connections", "Physical exercise", "Medical care"],
    "answer_en": "Emotional connections",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 26,
    "question_en": "What weather condition represents emptiness?",
    "options_en": ["Sunny day", "Rainstorm", "Drought", "Fog"],
    "answer_en": "Drought",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 27,
    "question_en": "What does the empty heart dream of?",
    "options_en": ["Wealth", "Fame", "Fulfillment", "Travel"],
    "answer_en": "Fulfillment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 28,
    "question_en": "What container metaphor is used?",
    "options_en": ["Overflowing pot", "Empty bowl", "Sealed jar", "Broken glass"],
    "answer_en": "Empty bowl",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 29,
    "question_en": "What does the heart's silence contain?",
    "options_en": ["Loud memories", "Complete nothingness", "Future hopes", "Past regrets"],
    "answer_en": "Complete nothingness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 30,
    "question_en": "What natural phenomenon represents emptiness?",
    "options_en": ["Volcano", "Empty sky", "Flowering tree", "Flowing river"],
    "answer_en": "Empty sky",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 31,
    "question_en": "What does the heart hunger for?",
    "options_en": ["Food", "Emotional nourishment", "Sleep", "Exercise"],
    "answer_en": "Emotional nourishment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 32,
    "question_en": "What time measurement represents emptiness?",
    "options_en": ["Full hour", "Empty moment", "Rushing minutes", "Eternal seconds"],
    "answer_en": "Empty moment",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 33,
    "question_en": "What does the empty heart reflect?",
    "options_en": ["Other people", "Nothingness", "Beautiful images", "Distorted reality"],
    "answer_en": "Nothingness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 34,
    "question_en": "What artistic metaphor describes the heart?",
    "options_en": ["Blank canvas", "Finished painting", "Sculpture", "Musical score"],
    "answer_en": "Blank canvas",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 35,
    "question_en": "What does the heart thirst for?",
    "options_en": ["Water", "Emotional connection", "Knowledge", "Experience"],
    "answer_en": "Emotional connection",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 36,
    "question_en": "What space metaphor is used?",
    "options_en": ["Crowded room", "Empty hall", "Small closet", "Open field"],
    "answer_en": "Empty hall",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 37,
    "question_en": "What does the heart's emptiness feel like physically?",
    "options_en": ["Heavy weight", "Gaping hole", "Tight fist", "Warm glow"],
    "answer_en": "Gaping hole",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 38,
    "question_en": "What musical quality is absent?",
    "options_en": ["Melody", "Rhythm", "Harmony", "All music"],
    "answer_en": "All music",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 39,
    "question_en": "What does the empty heart remember?",
    "options_en": ["Past fullness", "Only emptiness", "Childhood", "Nothing"],
    "answer_en": "Past fullness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 40,
    "question_en": "What season of life is represented?",
    "options_en": ["Youth", "Old age", "Middle age", "No particular age"],
    "answer_en": "No particular age",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 41,
    "question_en": "What does the heart's emptiness sound like at night?",
    "options_en": ["Loud ticking", "Echoing silence", "Whispering winds", "Distant music"],
    "answer_en": "Echoing silence",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 42,
    "question_en": "What architectural feature describes the heart?",
    "options_en": ["Ornate door", "Empty doorway", "Sturdy wall", "Beautiful window"],
    "answer_en": "Empty doorway",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 43,
    "question_en": "What does the heart lack that it once had?",
    "options_en": ["Love's presence", "Physical health", "Youthful energy", "Wealth"],
    "answer_en": "Love's presence",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 44,
    "question_en": "What natural emptiness is compared to the heart?",
    "options_en": ["Empty desert", "Full ocean", "Flowering valley", "Snowy mountain"],
    "answer_en": "Empty desert",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 45,
    "question_en": "What does the heart's emptiness see in the mirror?",
    "options_en": ["Beautiful reflection", "Nothingness", "Old self", "Stranger"],
    "answer_en": "Nothingness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 46,
    "question_en": "What time of emptiness is most painful?",
    "options_en": ["Morning emptiness", "Noon emptiness", "Evening emptiness", "All times equally"],
    "answer_en": "All times equally",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 47,
    "question_en": "What does the empty heart hope for?",
    "options_en": ["To remain empty", "To be filled again", "To disappear", "To harden"],
    "answer_en": "To be filled again",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 48,
    "question_en": "What vessel is the heart compared to?",
    "options_en": ["Overflowing cup", "Empty glass", "Broken pot", "Golden bowl"],
    "answer_en": "Empty glass",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 49,
    "question_en": "What does the heart's emptiness taste like?",
    "options_en": ["Sweetness", "Bitterness", "Nothing", "Ashes"],
    "answer_en": "Nothing",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 50,
    "question_en": "What room metaphor describes the heart?",
    "options_en": ["Furnished room", "Empty chamber", "Cluttered space", "Beautiful hall"],
    "answer_en": "Empty chamber",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 51,
    "question_en": "What does the heart miss hearing?",
    "options_en": ["Laughter and love", "Music only", "Conversation", "Silence"],
    "answer_en": "Laughter and love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 52,
    "question_en": "What weather inside the heart?",
    "options_en": ["Sunny", "Stormy", "Calm but empty", "Rainy"],
    "answer_en": "Calm but empty",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 53,
    "question_en": "What does the empty heart fear most?",
    "options_en": ["Being noticed", "Being forgotten", "Its own emptiness", "Being filled wrongly"],
    "answer_en": "Its own emptiness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 54,
    "question_en": "What musical instrument's silence is noted?",
    "options_en": ["Drum's beat", "Veena's strings", "Flute's song", "All instruments"],
    "answer_en": "Veena's strings",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 55,
    "question_en": "What does the heart resemble at dawn?",
    "options_en": ["New beginning", "Continued emptiness", "Hope arriving", "Night ending"],
    "answer_en": "Continued emptiness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 56,
    "question_en": "What does emptiness smell like?",
    "options_en": ["Flowers", "Nothing", "Dust", "Rain"],
    "answer_en": "Nothing",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 57,
    "question_en": "What architectural ruin represents the heart?",
    "options_en": ["Ancient temple", "Empty palace", "Broken home", "Deserted mansion"],
    "answer_en": "Deserted mansion",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 58,
    "question_en": "What does the heart's emptiness feel to touch?",
    "options_en": ["Warm", "Cold void", "Rough", "Smooth"],
    "answer_en": "Cold void",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 59,
    "question_en": "What season's end represents the heart?",
    "options_en": ["Spring's beginning", "Autumn's end", "Winter's depth", "Summer's peak"],
    "answer_en": "Winter's depth",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 60,
    "question_en": "What does the empty heart see when closed?",
    "options_en": ["Darkness", "Light", "Memories", "Nothing different"],
    "answer_en": "Darkness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 61,
    "question_en": "What vessel's purpose is unfulfilled?",
    "options_en": ["Cup for drinking", "Bowl for holding", "Vase for flowers", "All vessels"],
    "answer_en": "All vessels",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 62,
    "question_en": "What time stands still in the heart?",
    "options_en": ["Joyful moments", "Empty present", "Future hopes", "Past memories"],
    "answer_en": "Empty present",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 63,
    "question_en": "What natural emptiness is feared?",
    "options_en": ["Empty nest", "Dry well", "Barren tree", "Silent forest"],
    "answer_en": "Dry well",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 64,
    "question_en": "What does the heart lack that nature has?",
    "options_en": ["Seasons", "Life", "Beauty", "Purpose"],
    "answer_en": "Life",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 65,
    "question_en": "What room's echo is heard?",
    "options_en": ["Empty room's echo", "Full room's noise", "Small room's quiet", "Large hall's silence"],
    "answer_en": "Empty room's echo",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 66,
    "question_en": "What musical note is missing?",
    "options_en": ["First note", "Last note", "All notes", "Middle note"],
    "answer_en": "All notes",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 67,
    "question_en": "What does the heart's emptiness weigh?",
    "options_en": ["Nothing", "Heavy burden", "Light as air", "Too much"],
    "answer_en": "Heavy burden",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 68,
    "question_en": "What season never comes to the heart?",
    "options_en": ["Spring of love", "Summer of joy", "Autumn of content", "All seasons"],
    "answer_en": "Spring of love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 69,
    "question_en": "What container cannot be filled?",
    "options_en": ["The empty heart", "A bottomless pit", "A leaky vessel", "All containers"],
    "answer_en": "The empty heart",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 70,
    "question_en": "What does the heart see in others?",
    "options_en": ["Their fullness", "Their emptiness", "Their beauty", "Their flaws"],
    "answer_en": "Their fullness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 71,
    "question_en": "What weather never changes in the heart?",
    "options_en": ["Perpetual drought", "Constant storm", "Eternal spring", "Changing seasons"],
    "answer_en": "Perpetual drought",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 72,
    "question_en": "What musical instrument awaits playing?",
    "options_en": ["Silent heart", "Untuned piano", "Broken violin", "All instruments"],
    "answer_en": "Silent heart",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 73,
    "question_en": "What architectural space feels too large?",
    "options_en": ["Empty heart's space", "Large hall", "Open field", "All spaces"],
    "answer_en": "Empty heart's space",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 74,
    "question_en": "What does the heart's emptiness sound like in crowd?",
    "options_en": ["Louder silence", "Muffled noise", "Same as alone", "Different silence"],
    "answer_en": "Louder silence",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 75,
    "question_en": "What natural state is unnatural for heart?",
    "options_en": ["Emptiness", "Fullness", "Both", "Neither"],
    "answer_en": "Emptiness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 76,
    "question_en": "What vessel's design is wasted?",
    "options_en": ["Heart meant for love", "Cup for drinking", "Bowl for food", "All vessels"],
    "answer_en": "Heart meant for love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 77,
    "question_en": "What time feels longest?",
    "options_en": ["Empty moments", "Joyful hours", "Working days", "All time"],
    "answer_en": "Empty moments",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 78,
    "question_en": "What season's coldness is within?",
    "options_en": ["Winter's chill", "Autumn's cool", "Spring's warmth", "Summer's heat"],
    "answer_en": "Winter's chill",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 79,
    "question_en": "What room needs furnishing?",
    "options_en": ["Heart's empty space", "Living room", "Bedroom", "All rooms"],
    "answer_en": "Heart's empty space",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 80,
    "question_en": "What musical silence is painful?",
    "options_en": ["Heart's silent music", "Concert hall's quiet", "Instrument's rest", "All silence"],
    "answer_en": "Heart's silent music",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 81,
    "question_en": "What natural desert is within?",
    "options_en": ["Heart's emotional desert", "Sahara", "Thar", "All deserts"],
    "answer_en": "Heart's emotional desert",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 82,
    "question_en": "What vessel cannot hold anything?",
    "options_en": ["Heart rejecting love", "Broken cup", "Both", "Neither"],
    "answer_en": "Heart rejecting love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 83,
    "question_en": "What time of day amplifies emptiness?",
    "options_en": ["All times", "Night only", "Morning only", "Evening only"],
    "answer_en": "All times",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 84,
    "question_en": "What season's barrenness is permanent?",
    "options_en": ["Heart's eternal winter", "Natural winter", "Both", "Neither"],
    "answer_en": "Heart's eternal winter",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 85,
    "question_en": "What room's emptiness echoes loudest?",
    "options_en": ["Heart's chamber", "Empty cathedral", "Both", "Neither"],
    "answer_en": "Heart's chamber",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 86,
    "question_en": "What musical instrument's silence hurts most?",
    "options_en": ["Heart's silent strings", "Unplayed piano", "Both", "Neither"],
    "answer_en": "Heart's silent strings",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 87,
    "question_en": "What natural drought is internal?",
    "options_en": ["Heart's emotional drought", "Physical drought", "Both", "Neither"],
    "answer_en": "Heart's emotional drought",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 88,
    "question_en": "What vessel's emptiness is paradoxical?",
    "options_en": ["Heart made for filling", "Cup made for drinking", "Both", "Neither"],
    "answer_en": "Heart made for filling",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 89,
    "question_en": "What time's emptiness is most noticeable?",
    "options_en": ["Present moment's emptiness", "Past's emptiness", "Future's emptiness", "All time"],
    "answer_en": "Present moment's emptiness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 90,
    "question_en": "What season's metaphor is strongest?",
    "options_en": ["Winter of heart", "Spring of hope", "Summer of joy", "Autumn of change"],
    "answer_en": "Winter of heart",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 91,
    "question_en": "What room needs what it cannot have?",
    "options_en": ["Heart needs love", "Room needs furniture", "Both", "Neither"],
    "answer_en": "Heart needs love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 92,
    "question_en": "What music cannot be played?",
    "options_en": ["Heart's silent song", "Broken instrument's music", "Both", "Neither"],
    "answer_en": "Heart's silent song",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 93,
    "question_en": "What natural state contradicts heart's purpose?",
    "options_en": ["Heart's emptiness", "Desert's dryness", "Both", "Neither"],
    "answer_en": "Heart's emptiness",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 94,
    "question_en": "What vessel's design is unfulfilled?",
    "options_en": ["Heart designed for love", "Cup for liquid", "Both", "Neither"],
    "answer_en": "Heart designed for love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 95,
    "question_en": "What time's passage is meaningless?",
    "options_en": ["Time in empty heart", "Clock time", "Both", "Neither"],
    "answer_en": "Time in empty heart",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 96,
    "question_en": "What season's change is awaited?",
    "options_en": ["Spring in heart", "Natural spring", "Both", "Neither"],
    "answer_en": "Spring in heart",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 97,
    "question_en": "What room's purpose is defeated?",
    "options_en": ["Heart's purpose for love", "Room's purpose for living", "Both", "Neither"],
    "answer_en": "Heart's purpose for love",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 98,
    "question_en": "What music's absence defines existence?",
    "options_en": ["Heart's missing music", "World's silence", "Both", "Neither"],
    "answer_en": "Heart's missing music",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 99,
    "question_en": "What natural metaphor sums the poem?",
    "options_en": ["Heart as empty vessel", "Heart as winter landscape", "Heart as silent instrument", "All metaphors"],
    "answer_en": "All metaphors",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 100,
    "question_en": "What is the poem's ultimate message?",
    "options_en": ["Emptiness can be filled", "Emptiness is permanent", "Emptiness is liberating", "Emptiness is painful"],
    "answer_en": "Emptiness is painful",
    "attempted": false,
    "selected": ""
  }
];
// --------------------------- GLOBAL VARS -----------------------------
let currentQuestion = 0;
let language = "en";
let timeLeft = 60 * 60; 
let timerInterval;

// ----------------- Load Question -----------------
function loadQuestion(index) {
    const q = questions[index];
    if (!q) return; //  undefined error fix

    document.getElementById("question").textContent =
        `${q.num}. ${language === "en" ? q.question_en : q.question_hi}`;

    document.getElementById("questionCounter").textContent =
        `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    const options = language === "en" ? q.options_en : q.options_hi;

    options.forEach(option => {
        const isSelected = q.selected === option;

        const div = document.createElement("div");
        div.className = "option-box";

        div.style = `
            border: 2px solid ${isSelected ? "#007bff" : "#ccc"};
            background-color: ${isSelected ? "#e7f1ff" : "white"};
            padding: 10px;
            border-radius: 8px;
            margin: 6px 0;
            cursor: pointer;
        `;

        div.innerHTML = `
            <input type="radio" name="option" value="${option}" 
            ${isSelected ? "checked" : ""} style="margin-right:8px;">
            ${option}
        `;

        div.addEventListener("click", () => {
            markAttempted(index, option);
            loadQuestion(index);
        });

        optionsElement.appendChild(div);
    });

    updateNavigation();
}

// ----------------- Attempt Mark -----------------
function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
}

// ----------------- Next / Previous -----------------
function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

// ----------------- Final Submit -----------------
function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0;
    let notAttempted = 0;
    let score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;

            if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }

        results.push({
            question: language === "en" ? q.question_en : q.question_hi,
            selected: q.selected || "Not Answered",
            correct: language === "en" ? q.answer_en : q.answer_hi
        });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted! Do you want to view result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

// ----------------- Navigation Circles -----------------
function updateNavigation() {
    const nav = document.getElementById("circleContainer");
    nav.innerHTML = "";

    questions.forEach((q, i) => {
        let color = "gray";
        if (i === currentQuestion) color = "blue";
        else if (q.attempted) color = "green";

        nav.innerHTML += `
            <div class="circle" style="background:${color};"
            onclick="jumpToQuestion(${i})">${i + 1}</div>
        `;
    });
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

// ----------------- Timer -----------------
function startTimer() {
    const timerElement = document.getElementById("timer");

    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up!");
            submitQuiz();
        } else {
            const hours = String(Math.floor(timeLeft / 3600)).padStart(2, "0");
            const minutes = String(Math.floor((timeLeft % 3600) / 60)).padStart(2, "0");
            const seconds = String(timeLeft % 60).padStart(2, "0");

            timerElement.textContent = `Time Left: ${hours}:${minutes}:${seconds}`;
            timeLeft--;
        }
    }, 1000);
}

// ----------------- Camera & Movement Detection -----------------
let videoStream;
let movementCount = 0;

function startCamera() {
    const container = document.createElement("div");
    container.id = "camera-container";
    container.style = `
        position:fixed; top:10px; left:10px; width:130px; height:130px;
        border-radius:50%; overflow:hidden; border:3px solid red; z-index:9999;
    `;

    document.body.appendChild(container);

    const video = document.createElement("video");
    video.autoplay = true;
    video.playsinline = true;
    video.style = "width:100%; height:100%; object-fit:cover;";
    container.appendChild(video);

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            video.srcObject = stream;
            videoStream = stream;
            detectMovement(video);
        })
        .catch(() => alert("Camera access denied!"));
}

function detectMovement(video) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = 160;
    canvas.height = 160;

    let lastData = null;

    setInterval(() => {
        ctx.drawImage(video, 0, 0, 160, 160);
        const data = ctx.getImageData(0, 0, 160, 160);

        if (lastData) {
            let diff = 0;
            for (let i = 0; i < data.data.length; i += 4) {
                diff += Math.abs(data.data[i] - lastData.data[i]);
            }

            if (diff > 1000000) {
                movementCount++;

                if (movementCount === 1) alert("⚠ Alert 1: No movement detected!");
                if (movementCount === 2) alert("⚠ Alert 2: Head not moving!");
                if (movementCount === 3) {
                    alert("⚠ Alert 3: Restarting test...");
                    restartTest();
                }
            }
        }
        lastData = data;

    }, 2000);
}

function restartTest() {
    if (videoStream) videoStream.getTracks().forEach(t => t.stop());

    const cam = document.getElementById("camera-container");
    if (cam) cam.remove();

    movementCount = 0;
    currentQuestion = 0;
    timeLeft = 60 * 60;

    questions.forEach(q => {
        q.attempted = false;
        q.selected = null;
    });

    loadQuestion(0);
    startTimer();
    startCamera();
}

// ----------------- Page Load -----------------
window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
    startCamera();
};